{"version":3,"file":"component---src-pages-dynamodb-data-js-537717a10e4959c21851.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/components/layout.js","webpack://gatsby-starter-blog/./src/components/seo.js","webpack://gatsby-starter-blog/./src/pages/dynamodb-data.js"],"sourcesContent":["import * as React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst Layout = ({ location, title, children }) => {\n  const rootPath = `${__PATH_PREFIX__}/`\n  const isRootPath = location.pathname === rootPath\n  let header\n\n  if (isRootPath) {\n    header = (\n      <h1 className=\"main-heading\">\n        <Link to=\"/\">{title}</Link>\n      </h1>\n    )\n  } else {\n    header = (\n      <Link className=\"header-link-home\" to=\"/\">\n        {title}\n      </Link>\n    )\n  }\n\n  return (\n    <div className=\"global-wrapper\" data-is-root-path={isRootPath}>\n      <header className=\"global-header\">{header}</header>\n      <main>{children}</main>\n      <footer>\n        © {new Date().getFullYear()}, Built with\n        {` `}\n        <a href=\"https://www.gatsbyjs.com\">Gatsby</a>\n      </footer>\n    </div>\n  )\n}\n\nexport default Layout\n","/**\n * SEO component that queries for data with\n * Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/\n */\n\nimport * as React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nconst Seo = ({ description, title, children }) => {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            social {\n              twitter\n            }\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n  const defaultTitle = site.siteMetadata?.title\n\n  return (\n    <>\n      <title>{defaultTitle ? `${title} | ${defaultTitle}` : title}</title>\n      <meta name=\"description\" content={metaDescription} />\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={metaDescription} />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta name=\"twitter:card\" content=\"summary\" />\n      <meta\n        name=\"twitter:creator\"\n        content={site.siteMetadata?.social?.twitter || ``}\n      />\n      <meta name=\"twitter:title\" content={title} />\n      <meta name=\"twitter:description\" content={metaDescription} />\n      {children}\n    </>\n  )\n}\n\nexport default Seo\n","import * as React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\n\nconst DynamoDBData = ({ location }) => {\n  const [data, setData] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n\n  // Lambda 함수 엔드포인트 URL\n  const LAMBDA_ENDPOINT = process.env.GATSBY_LAMBDA_ENDPOINT || \"YOUR_LAMBDA_FUNCTION_URL\"\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  const fetchData = async () => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(LAMBDA_ENDPOINT, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          action: \"getAllData\",\n        }),\n      })\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`)\n      }\n\n      const result = await response.json()\n      if (result.success) {\n        setData(result.data || [])\n      } else {\n        throw new Error(result.error || \"Failed to fetch data\")\n      }\n    } catch (err) {\n      setError(err.message)\n      console.error(\"Error fetching data:\", err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const formatDate = (dateString) => {\n    if (!dateString) return \"날짜 없음\"\n    try {\n      const date = new Date(dateString)\n      return date.toLocaleString(\"ko-KR\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      })\n    } catch {\n      return dateString\n    }\n  }\n\n  return (\n    <Layout location={location} title=\"DynamoDB 데이터\">\n      <Seo title=\"DynamoDB Data\" />\n      <div style={{ maxWidth: \"900px\", margin: \"0 auto\", padding: \"2rem\" }}>\n        <h1>DynamoDB 저장 데이터</h1>\n        <p style={{ marginBottom: \"1rem\" }}>\n          DynamoDB에 저장된 모든 데이터를 확인할 수 있습니다.\n        </p>\n\n        <div style={{ marginBottom: \"1rem\" }}>\n          <button\n            onClick={fetchData}\n            disabled={loading}\n            style={{\n              padding: \"0.5rem 1rem\",\n              fontSize: \"1rem\",\n              backgroundColor: loading ? \"#ccc\" : \"#007acc\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: loading ? \"not-allowed\" : \"pointer\",\n            }}\n          >\n            {loading ? \"로딩 중...\" : \"새로고침\"}\n          </button>\n        </div>\n\n        {error && (\n          <div\n            style={{\n              marginTop: \"1rem\",\n              padding: \"1rem\",\n              backgroundColor: \"#fee\",\n              border: \"1px solid #fcc\",\n              borderRadius: \"4px\",\n              color: \"#c00\",\n            }}\n          >\n            <strong>에러:</strong> {error}\n          </div>\n        )}\n\n        {loading && (\n          <div style={{ textAlign: \"center\", padding: \"2rem\" }}>\n            <p>데이터를 불러오는 중...</p>\n          </div>\n        )}\n\n        {!loading && !error && data.length === 0 && (\n          <div\n            style={{\n              padding: \"2rem\",\n              textAlign: \"center\",\n              backgroundColor: \"#f5f5f5\",\n              borderRadius: \"4px\",\n            }}\n          >\n            <p>저장된 데이터가 없습니다.</p>\n            <p>\n              <a href=\"/lambda-example/\">여기</a>에서 데이터를 추가해보세요.\n            </p>\n          </div>\n        )}\n\n        {!loading && !error && data.length > 0 && (\n          <div style={{ marginTop: \"2rem\" }}>\n            <p style={{ marginBottom: \"1rem\", color: \"#666\" }}>\n              총 {data.length}개의 항목이 있습니다.\n            </p>\n            <div\n              style={{\n                display: \"grid\",\n                gap: \"1.5rem\",\n              }}\n            >\n              {data.map((item) => (\n                <article\n                  key={item.id}\n                  style={{\n                    padding: \"1.5rem\",\n                    backgroundColor: \"#fff\",\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"8px\",\n                    boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n                  }}\n                >\n                  <header\n                    style={{\n                      marginBottom: \"1rem\",\n                      paddingBottom: \"0.75rem\",\n                      borderBottom: \"1px solid #eee\",\n                    }}\n                  >\n                    <h3\n                      style={{\n                        margin: \"0 0 0.5rem 0\",\n                        fontSize: \"1.25rem\",\n                        color: \"#333\",\n                      }}\n                    >\n                      {item.name || \"이름 없음\"}\n                    </h3>\n                    <div style={{ fontSize: \"0.875rem\", color: \"#666\" }}>\n                      <div>\n                        <strong>이메일:</strong> {item.email || \"이메일 없음\"}\n                      </div>\n                      <div style={{ marginTop: \"0.25rem\" }}>\n                        <strong>작성일:</strong> {formatDate(item.timestamp || item.createdAt)}\n                      </div>\n                    </div>\n                  </header>\n                  <section>\n                    <p\n                      style={{\n                        margin: 0,\n                        lineHeight: \"1.6\",\n                        color: \"#444\",\n                        whiteSpace: \"pre-wrap\",\n                      }}\n                    >\n                      {item.message || \"메시지 없음\"}\n                    </p>\n                  </section>\n                </article>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  )\n}\n\nexport default DynamoDBData\n\n\n"],"names":["_ref","location","title","children","isRootPath","pathname","header","React","className","Link","to","Date","getFullYear","href","_site$siteMetadata","_site$siteMetadata2","_site$siteMetadata2$s","description","site","useStaticQuery","metaDescription","siteMetadata","defaultTitle","name","content","property","social","twitter","data","setData","useState","loading","setLoading","error","setError","useEffect","fetchData","async","response","fetch","process","method","headers","body","JSON","stringify","action","ok","Error","status","result","json","success","err","message","console","Layout","Seo","style","maxWidth","margin","padding","marginBottom","onClick","disabled","fontSize","backgroundColor","color","border","borderRadius","cursor","marginTop","textAlign","length","display","gap","map","item","key","id","boxShadow","paddingBottom","borderBottom","email","dateString","toLocaleString","year","month","day","hour","minute","formatDate","timestamp","createdAt","lineHeight","whiteSpace"],"sourceRoot":""}