"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[483],{8678:function(e,t,r){var a=r(7294),n=r(1883);t.Z=e=>{let{location:t,title:r,children:l}=e;const o="/"===t.pathname;let i;return i=o?a.createElement("h1",{className:"main-heading"},a.createElement(n.Link,{to:"/"},r)):a.createElement(n.Link,{className:"header-link-home",to:"/"},r),a.createElement("div",{className:"global-wrapper","data-is-root-path":o},a.createElement("header",{className:"global-header"},i),a.createElement("main",null,l),a.createElement("footer",null,"© ",(new Date).getFullYear(),", Built with"," ",a.createElement("a",{href:"https://www.gatsbyjs.com"},"Gatsby")))}},9357:function(e,t,r){var a=r(7294),n=r(1883);t.Z=e=>{var t,r,l;let{description:o,title:i,children:c}=e;const{site:m}=(0,n.useStaticQuery)("2841359383"),s=o||m.siteMetadata.description,d=null===(t=m.siteMetadata)||void 0===t?void 0:t.title;return a.createElement(a.Fragment,null,a.createElement("title",null,d?i+" | "+d:i),a.createElement("meta",{name:"description",content:s}),a.createElement("meta",{property:"og:title",content:i}),a.createElement("meta",{property:"og:description",content:s}),a.createElement("meta",{property:"og:type",content:"website"}),a.createElement("meta",{name:"twitter:card",content:"summary"}),a.createElement("meta",{name:"twitter:creator",content:(null===(r=m.siteMetadata)||void 0===r||null===(l=r.social)||void 0===l?void 0:l.twitter)||""}),a.createElement("meta",{name:"twitter:title",content:i}),a.createElement("meta",{name:"twitter:description",content:s}),c)}},7812:function(e,t,r){r.r(t);var a=r(7294),n=r(8678),l=r(9357);t.default=e=>{let{location:t}=e;const{0:r,1:o}=(0,a.useState)([]),{0:i,1:c}=(0,a.useState)(!0),{0:m,1:s}=(0,a.useState)(null);(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{c(!0),s(null);try{const e=await fetch("https://j1wwctr87i.execute-api.ap-northeast-2.amazonaws.com/prod/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"getAllData"})});if(!e.ok)throw new Error("HTTP error! status: "+e.status);const t=await e.json();if(!t.success)throw new Error(t.error||"Failed to fetch data");o(t.data||[])}catch(e){s(e.message),console.error("Error fetching data:",e)}finally{c(!1)}};return a.createElement(n.Z,{location:t,title:"DynamoDB 데이터"},a.createElement(l.Z,{title:"DynamoDB Data"}),a.createElement("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem"}},a.createElement("h1",null,"DynamoDB 저장 데이터"),a.createElement("p",{style:{marginBottom:"1rem"}},"DynamoDB에 저장된 모든 데이터를 확인할 수 있습니다."),a.createElement("div",{style:{marginBottom:"1rem"}},a.createElement("button",{onClick:d,disabled:i,style:{padding:"0.5rem 1rem",fontSize:"1rem",backgroundColor:i?"#ccc":"#007acc",color:"white",border:"none",borderRadius:"4px",cursor:i?"not-allowed":"pointer"}},i?"로딩 중...":"새로고침")),m&&a.createElement("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c00"}},a.createElement("strong",null,"에러:")," ",m),i&&a.createElement("div",{style:{textAlign:"center",padding:"2rem"}},a.createElement("p",null,"데이터를 불러오는 중...")),!i&&!m&&0===r.length&&a.createElement("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"#f5f5f5",borderRadius:"4px"}},a.createElement("p",null,"저장된 데이터가 없습니다."),a.createElement("p",null,a.createElement("a",{href:"/lambda-example/"},"여기"),"에서 데이터를 추가해보세요.")),!i&&!m&&r.length>0&&a.createElement("div",{style:{marginTop:"2rem"}},a.createElement("p",{style:{marginBottom:"1rem",color:"#666"}},"총 ",r.length,"개의 항목이 있습니다."),a.createElement("div",{style:{display:"grid",gap:"1.5rem"}},r.map((e=>a.createElement("article",{key:e.id,style:{padding:"1.5rem",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},a.createElement("header",{style:{marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid #eee"}},a.createElement("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.25rem",color:"#333"}},e.name||"이름 없음"),a.createElement("div",{style:{fontSize:"0.875rem",color:"#666"}},a.createElement("div",null,a.createElement("strong",null,"이메일:")," ",e.email||"이메일 없음"),a.createElement("div",{style:{marginTop:"0.25rem"}},a.createElement("strong",null,"작성일:")," ",(e=>{if(!e)return"날짜 없음";try{return new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e}})(e.timestamp||e.createdAt)))),a.createElement("section",null,a.createElement("p",{style:{margin:0,lineHeight:"1.6",color:"#444",whiteSpace:"pre-wrap"}},e.message||"메시지 없음")))))))))}}}]);
//# sourceMappingURL=component---src-pages-dynamodb-data-js-52cd75863ca96511abf6.js.map